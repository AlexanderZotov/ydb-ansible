all:
  children:
    ydb:
      hosts:
        ycydb-s1.ru-central1.internal:
        ycydb-s2.ru-central1.internal:
        ycydb-s3.ru-central1.internal:
        ycydb-s4.ru-central1.internal:
        ycydb-s5.ru-central1.internal:
        ycydb-s6.ru-central1.internal:
        ycydb-s7.ru-central1.internal:
        ycydb-s8.ru-central1.internal:
        ycydb-s9.ru-central1.internal:

      vars:
        ansible_user: yc-user
        ansible_ssh_common_args: "-o ProxyJump=yc-user@158.160.6.109"
        ansible_ssh_private_key_file: "{{ ansible_config_file | dirname + '/files/ssh_key' }}"

        system_timezone: Europe/Moscow
        system_ntp_servers: [213.248.43.36, 192.36.143.130, 94.247.111.10, 188.134.81.45]

        ydb_archive: "{{ ansible_config_file | dirname + '/files/yasubd-23.2.14-linux-amd64.tar.gz' }}"
        ydb_config: "{{ ansible_config_file | dirname + '/files/config.yaml' }}"
        ydb_tls_dir: "{{ ansible_config_file | dirname + '/files/CA/certs/2023-08-11_18-22-51' }}"

        ydb_user: root
        ydb_cores_static: 8
        ydb_disks:
          - name: /dev/vdb
            label: ydb_disk_1
        ydb_allow_format_drives: true
        ydb_skip_data_loss_confirmation_prompt: true
        ydb_domain: Root
        ydb_dbname: database
        ydb_pool_kind: ssd
        ydb_database_groups: 10  # 15 available total (15 slots per node, 2 nodes for self-heal)
        ydb_cores_dynamic: 2
        ydb_dynnodes:
          - { instance: 'a', offset: 0 }
          - { instance: 'b', offset: 1 }
        ydb_brokers:
          - ycydb-s1.ru-central1.internal
          - ycydb-s2.ru-central1.internal
          - ycydb-s3.ru-central1.internal
